{% extends 'base3.html.twig' %}

{% block body %}
  <section>
    <div class="container" data-aos="fade-up" data-aos-delay="100">
      <h1 class="text-center mb-4">Détails de l'Hébergement : {{ hebergement.nom }}</h1>

      <div style="display: flex; justify-content: flex-start; align-items: flex-start; gap: 20px;">
        <!-- Affichage de l'image à gauche -->
        {% if hebergement.image %}
          <div class="text-center mb-4">
            <img src="{{ asset('uploads/images/' ~ hebergement.image) }}" alt="{{ hebergement.nom }}" style="max-width: 300px; border-radius: 10px;">
          </div>
        {% endif %}

        <!-- Informations de l'hébergement -->
        <div>
          <p><strong>Titre Hébergement:</strong> {{ hebergement.nom }}</p>
          <p><strong>Type :</strong> {{ hebergement.type }}</p>
          <p><strong>Adresse :</strong> {{ hebergement.adresse }}</p>
          <p><strong>Capacité :</strong> {{ hebergement.capacite }}</p> <!-- Mis à jour -->
          <p><strong>Description :</strong> {{ hebergement.description }}</p>

          <!-- Boutons de suppression et modification -->
          <div class="mt-3">
            <form action="{{ path('hebergement_delete', {'idhebergement': hebergement.idhebergement}) }}" method="post" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer cet hébergement ?');">
              <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ hebergement.idhebergement) }}">
              <button type="submit" class="btn btn-primary"><i class="bi bi-trash"></i> Supprimer</button>
            </form>

            <a href="{{ path('hebergement_edit', {'idhebergement': hebergement.idhebergement}) }}" class="btn btn-primary"><i class="bi bi-pencil"></i> Modifier</a>
          </div>
        </div>
      </div>

      <hr>

      <!-- Liste des Programmes Associés -->
      <h3>Programmes associés :</h3>
      <ul class="list-group">
        {% if programmes is empty %}
          <li class="list-group-item">Aucun programme associé</li>
        {% else %}
          {% for programme in programmes %}
            <li class="list-group-item">
              <strong>Nom :</strong> {{ programme.nom }} <br>
              <strong>Lieu :</strong> {{ programme.lieu}} <br>

              <strong>Date début :</strong> {{ programme.dateDebut|date('d/m/Y H:i') }} <br>
              <strong>Date fin :</strong> {{ programme.dateFin|date('d/m/Y H:i') }} <br>
              <strong>Description :</strong> {{ programme.description }} <br>

     <a href="{{ path('programme_edit', {'id': programme.id}) }}" class="btn btn-primary">
    <i class="bi bi-pencil"></i> Modifier
</a>
<form method="post" action="{{ path('programme_delete', {'id': programme.id}) }}" style="display:inline;" onsubmit="return confirm('Confirmer la suppression de ce programme ?');">
    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ programme.id) }}">
    <button type="submit" class="btn btn-primary">
        <i class="bi bi-trash"></i> Supprimer
    </button>
</form>
            </li>
          {% endfor %}
        {% endif %}
      </ul>

      <!-- Ajouter un programme -->
      <a href="{{ path('programme_new', {'hebergementId': hebergement.idhebergement}) }}" class="btn btn-primary mt-3"><i class="bi bi-plus-circle"></i> Ajouter un programme</a>
    </div>
  </section>

  <!-- Footer et autres parties HTML ici... -->

{% endblock %}
